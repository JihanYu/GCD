<<<<<<< HEAD
head(segmentationOriginal)
names(segmentationOriginal)
names(segmentationOriginal$Case)
head(segmentationOriginal$Case)
training <- subset(Case=="Train")
?subset
training <- subset(segmentationOriginal, Case=="Train")
sum(segmentationOriginal$Case=="Train")
head(segmentationOriginal$Cell)
head(segmentationOriginal$Class)
training <- subset(segmentationOriginal, Case=="Train")
testing <- subset(segmentationOriginal, Case=="Test")
set.seed(125)
modelFit <- train(Class ~ ., method="rpart", data=training)
print(modelFit$finalModel)
library(rattle)
install.packages("rattle")
library(rattle)
fancyRpartPlot(modelFit$finalModel)
library(leaflet)
my_map <- my_map %>%
addMarkers(lat=39.2980803, lng=-76.5988801, popup="Jee Leek")
my_map <- leaflet() %>% addTiles()
my_map <- my_map %>%
addMarkers(lat=39.2980803, lng=-76.5988801, popup="Jee Leek")
my_map
library(leaflet)
my_map <- leaflet() %>% addTiles()
my_map <- my_map %>%
addMarkers(lat=39.298, lng=-76.598, popup="Jee Leek")
my_map
set.seed(2016-04-25)
df <- data.frame(lat=runif(20, min=39.2, max=39.3),
lng=runif(20, min=-76.6, max=-76.5))
df %>%
leaflet() %>%
addTiles() %>%
addMarkers()
df
library(leaflet)
my_map <- leaflet() %>% addTiles()
my_map <- my_map %>%
addMarkers(lat=39.2980803, lng=-76.5988801, popup="Jee Leek")
my_map
set.seed(2016-04-25)
df <- data.frame(lat=runif(20, min=39.2, max=39.3),
lng=runif(20, min=-76.6, max=-76.5))
df %>%
leaflet() %>%
addTiles() %>%
addMarkers()
df <- data.frame(lat=runif(500, min=39.25, max=39.35),
lng=runif(500, min=-76.65, max=-76.55))
df %>%
leaflet %>%
addTiles %>%
addMarkers(clusterOptions = markerClusterOptions())
df <- data.frame(lat=runif(20, min=39.25, max=39.35),
lng=runif(20, min=-76.65, max=-76.55))
df %>%
leaflet %>%
addTiles %>%
addCircleMarkers()
library(leaflet)
my_map <- leaflet() %>%
addTiles() %>%
addMarkers(lat=37.434424, lng=127.128252, pop="Jihan's clinic")
my_map
View(my_map)
library(leaflet)
my_map <- leaflet() %>%
addTiles() %>%
addMarkers(lat=37.434424, lng=127.128252, pop="Jihan's clinic")
my_map <- leaflet() %>%
addTiles()
my_map <- mymap %>%
addMarkers(lat=37.434424, lng=127.128252, pop="Jihan's clinic")
my_map <- my_map %>%
addMarkers(lat=37.434424, lng=127.128252, pop="Jihan's clinic")
my_map <- leaflet() %>%
addTiles()
my_map <- my_map %>%
addMarkers(lat=37.434424, lng=127.128252, popup="Jihan's clinic")
my_map
rm(list=ls())
my_map <- leaflet() %>%
addTiles() %>%
addMarkers(lat=37.434424, lng=127.128252, popup="Jihan's clinic")
my_map
library(leaflet)
##### List of hospital at Sungnam city #####
hosp.list <- matrix( c(
37.434424, 127.128252, "St Mary's will hospital",
37.433154, 127.129692, "SK healthcare center",
37.432860, 127.130368, "Moran Yeonsei clinic",
37.430488, 127.128846, "Sinui clinic",
37.430714, 127.129783, "Moran mental health clinic",
37.438611, 127.127411, "Saesomang hospital",
37.439907, 127.128970, "Chung Hospital",
37.440874, 127.132449, "Sungnam orthopediatric clinic",
37.441811, 127.135692, "Jeil psychologic clinic",
37.442557, 127.137967, "Clean psychologic clinic",
37.443762, 127.140183, "Jiwoo hospital",
37.440821, 127.130456, "Kwack women's hospital",
37.440633, 127.131486, "Soo clinic",
37.440838, 127.132129, "Yeonsei Internal medicine clinic",
37.446012, 127.134176, "E-med hospital",
37.442571, 127.136386, "Hansol orthopediatric clinic",
37.445280, 127.139068, "Sungnam Clinic",
37.444189, 127.143145, "Ha clinic",
37.438090, 127.140806, "Cham Seoul Radiology",
37.439334, 127.142995, "Happy psychologic clinic",
37.439998, 127.144003, "Huen hospital",
37.439573, 127.145227, "MaumBit psychologic clinic",
37.442605, 127.150956, "Good dream psychologic clinic",
37.448984, 127.145335, "Hyosaran hospital",
37.453127, 127.161924, "Sungnam Joongang hospital",
37.445466, 127.162470, "Barunmadi hospital",
37.416550, 127.120654, "Bundang Yeonsei hospital",
37.410524, 127.126844, "Barunsesang hospital",
37.413127, 127.129211, "Bundang Chuck hospital",
37.410066, 127.125418, "Cha general hospital",
37.412331, 127.129733, "Best Bundang clinic",
37.412741, 127.129156, "Sungmo psychologic clinic",
37.413560, 127.129511, "Yeonsei Modoo clinic",
37.417368, 127.126759, "Joongang Leader's dental clinic",
37.417079, 127.133981, "Kids-M pediatric clinic" ), ncol=3, byrow=TRUE)
hosp.list <- as.data.frame(hosp.list)
colnames(hosp.list) <- c("lat", "lng", "hosp.name")
### adjusting variable types ###
hosp.list$lat <- as.character(hosp.list$lat)
hosp.list$lat <- as.numeric(hosp.list$lat)
hosp.list$lng <- as.character(hosp.list$lng)
hosp.list$lng <- as.numeric(hosp.list$lng)
hosp.list$hosp.name <- as.character(hosp.list$hosp.name)
=======
min(hosp.list$lng)
max(hosp.list$lng)
##### Draw map - popup & cluster #####
hosp.list[, c(1, 2)] %>%
leaflet() %>%
addTiles() %>%
addMarkers(popup=hosp.list$hosp.name, clusterOptions = markerClusterOptions()) %>%
addRectangles(lat1=37.41, lng1=127.12,
lat2=37.46, lng2=127.17,
fillColor="transparent")
>>>>>>> d2e9519b943991fb419c01be12aa0957f3d2b6ff
##### Draw map - popup & cluster #####
hosp.list[, c(1, 2)] %>%
leaflet() %>%
addTiles() %>%
addMarkers(popup=hosp.list$hosp.name, clusterOptions = markerClusterOptions()) %>%
addRectangles(lat1=37.410, lng1=127.120,
lat2=37.455, lng2=127.163,
fillColor="transparent")
library(plotly)
<<<<<<< HEAD
install.packages("plotly")
library(plotly)
head(mpg)
?mpg
?mtcars
head(mtcars)
dim(mpg)
dim(mtcars)
dim(mpg)
str(mpg)
table(mpg$manufacturer)
table(mpg$model)
table(mpg$trans)
table(mpg$drv)
table(mpg$fl)
table(mpg$class)
head(mpg)
table(mpg$displ)
table(mpg$cty)
table(mpg$hwy)
str(mpg)
head(mpg)
table(mpg$displ)
plot(displ, cty, data=mpg)
plot(displ~cty, data=mpg)
plot(cty~hwy, data=mpg)
plot(mpg)
is.na(mpg)
sum(is.na(mpg))
plot(mpg)
head(mtcars)
plot(mtcars)
plot(mpg~wt, data=mtcars)
head(mpt)
head(mpg)
str(mpg)
head(mtcars)
plot(mpg~cyl, data=mtcars)
plot(mpg~factor(cyl), data=mtcars)
g <- ggplot(mpg~wt, data=mtcars)
g <- ggplot(mpg~wt, data=mtcars) + aes()
rm(list=ls())
version()
version
library(library(shiny)
ui <- fluidPage(
)
)
server <- function(input, output, session) {
}
shinyApp(ui, server))
library(shiny)
install.packages("shiny")
library(shiny)
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
? rnorm
shiny::runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp()
runApp('C:/Users/pc/Desktop/Jihan/DDP')
a <- 0.05;  b <- 0.2
effect.size <- 0.5
mu0 <- 0;  std.drv0 <- 1;  std.drv1 <- 1
one.two <- TRUE
n1 <- NA;  n1.n0 <- 1;
two.sided <- 1;
mu1 <- mu0 + effect.size;
if(one.two == TRUE) two.sided <- 2
=======
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter")
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter", color=as.factor(cyl))
head(mtcars)
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter", color=as.factor(mtcars$cyl))
str(mtcars)
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter", color=disp)
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter", color=mtcars$disp)
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter", color=~factor(cyl), size=~hp)
set.seed(2016-07-21)
temp <- rnorm(100, mean=30, sd=5)
pressure <- rnorm(100)
dtime <- 1:100
plot_ly(x=~temp, y=~pressure, z=~dtime, type="scatter3d", color=~temp)
data("airmiles")
plot_ly(x=~time(airmiles), y=~airmiles, type="scatter")
plot_ly(mtcars, x=wt, y=mpg, mode="markers")
?plot_ly
plot_ly(mtcars, x=~wt, y=~mpg, mode="markers")
plot_ly(mtcars, x = wt, y = mpg, mode="markers", color = as.factor(cyl))
plot_ly(mtcars, x = wt, y = mpg, mode="markers", color = as.factor(mtcars$cyl))
plot_ly(mtcars, x = ~wt, y = ~mpg, mode="markers", color = as.factor(~cyl))
plot_ly(mtcars, x = ~wt, y = ~mpg, mode="markers", color = as.factor(mtcars$cyl))
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter", color=~disp)
plot_ly(mtcars, x = ~wt, y = ~mpg, mode="markers", color = ~factor(cyl))
plot_ly(mtcars, x=~wt, y=~mpg, type="scatter", color=~factor(cyl), size=~hp)
plot_ly(x=~time(airmiles), y=~airmiles)
plot_ly(x=~time(airmiles), y=~airmiles, type="line")
library(plotly)
library(tidyr)
library(dplyr)
data("EuStockMarkets")
stocks <- as.data.frame(EuStockMarkets) %>%
gather(index, price) %>%
mutate(time=rep(time(EuStockMarkets), 4))
plot_ly(stocks, x=~time, y=~price, color=~index)
plot_ly(x=~time(airmiles), y=~airmiles, type="scattergl")
plot_ly(x=~time(airmiles), y=~airmiles, type="scatterpolargl")
plot_ly(x = ~precip, type="histogram")
plot_ly(x=~time(airmiles), y=~airmiles, type="scatter", mode="lines")
data("airmiles")
plot_ly(x=~time(airmiles), y=~airmiles, type="scatter", mode="lines")
stocks <- as.data.frame(EuStockMarkets) %>%
gather(index, price) %>%
mutate(time=rep(time(EuStockMarkets), 4))
plot_ly(stocks, x=~time, y=~price, color=~index)
plot_ly(stocks, x=~time, y=~price, color=~index, type="scatter", mode="lines")
plot_ly(iris, y=~Petal.Length, color=~Species, type="box")
terrain1 <- matrix(rnorm(100*100), nrow=100, ncol=100)
plot_ly(z=~terrain1, type="heatmap")
terrain2 <- matrix(sort(rnorm(100*100)), nrow=100, ncol=100)
plot_ly(z=~terrain2, type="surface")
library(slidify)
library(slidy)
install.packages("slidy")
library(ggplot2)
a <- 0.05;  b <- 0.2
effect.size <- 5
mu0 <- 0;  std.drv0 <- 1
mu1 <- mu0 + effect.size;  std.drv1 <- 1
one.two <- TRUE
sample.size <- NULL
two.sided <- 1;  if(one.two == TRUE) two.sided <- 2
x.inter <- qnorm(a/two.sided, lower.tail=FALSE)
x <- seq(from = mu0 - 5*std.drv0, to = mu1 + 5*std.drv1, by=0.01)
h0 <- dnorm(x, mean=mu0, sd=std.drv0)
h1 <- dnorm(x, mean=mu1, sd=std.drv1)
h.norm <- data.frame(x, h0, h1)
p <- ggplot(h.norm, aes(x=x, y=h0)) +
geom_line(aes(x=x, y=h0), color="red") +
geom_line(aes(x=x, y=h1), color="blue") +
geom_vline(xintercept=x.inter) +
geom_ribbon(data=subset(h.norm, x.inter <= x & x <= max(x)),
aes(ymin=0, ymax=h0, fill="H0", alpha=0.5)) +
geom_ribbon(data=subset(h.norm, min(x) <= x & x <= x.inter),
aes(ymin=0, ymax=h1, fill="H1", alpha=0.5))
print(p)
std.err0
?dnorm
pnorm(qnorm(0.05), lower.tail=FALSE)
a <- 0.05;  b <- 0.2
effect.size <- 5
mu0 <- 0;  std.drv0 <- 1
mu1 <- mu0 + effect.size;  std.drv1 <- 1
one.two <- TRUE
n1 <- 30;  n1.n0 <- 1;
if(is.na(n1)){
}
n0 <- n1/n1.n0
std.err0 <- std.drv0 / sqrt(n0/2)
std.err1 <- std.drv1 / sqrt(n1/2)
two.sided <- 1;  if(one.two == TRUE) two.sided <- 2
x.inter <- qnorm(a/two.sided, lower.tail=FALSE)
x <- seq(from = mu0 - 5*std.err0, to = mu1 + 5*std.err1, by=0.01)
h0 <- dnorm(x, mean=mu0, sd=std.err0)
h1 <- dnorm(x, mean=mu1, sd=std.err1)
h.norm <- data.frame(x, h0, h1)
p <- ggplot(h.norm, aes(x=x, y=h0)) +
geom_line(aes(x=x, y=h0), color="red") +
geom_line(aes(x=x, y=h1), color="blue") +
geom_vline(xintercept=x.inter) +
geom_ribbon(data=subset(h.norm, x.inter <= x & x <= max(x)),
aes(ymin=0, ymax=h0, fill="H0", alpha=0.5)) +
geom_ribbon(data=subset(h.norm, min(x) <= x & x <= x.inter),
aes(ymin=0, ymax=h1, fill="H1", alpha=0.5))
print(p)
library(ggplot2)
p <- ggplot(h.norm, aes(x=x, y=h0)) +
geom_line(aes(x=x, y=h0), color="red") +
geom_line(aes(x=x, y=h1), color="blue") +
geom_vline(xintercept=x.inter) +
geom_ribbon(data=subset(h.norm, x.inter <= x & x <= max(x)),
aes(ymin=0, ymax=h0, fill="H0", alpha=0.5)) +
geom_ribbon(data=subset(h.norm, min(x) <= x & x <= x.inter),
aes(ymin=0, ymax=h1, fill="H1", alpha=0.5))
print(p)
pnorm(qnorm(0.05), mean=1, sd=2, lower.tail=FALSE)
a <- "abc"
print(a)
cat(a)
cat(a, "%c", "def")
cat(a, "def")
?cat
pnorm(0.05)
pnorm(0.025)
qnorm(0.025)
qnorm(0.025, lower.tail=FALSE)
qnorm(0.2)
qnorm(0.2, lower.tail=FALSE)
rm(list=ls())
library(ggplot2)
a <- 0.05;  b <- 0.2
effect.size <- 5
mu0 <- 0;  std.drv0 <- 1
mu1 <- mu0 + effect.size;  std.drv1 <- 1
one.two <- TRUE
n1 <- 30;  n1.n0 <- 1;
two.sided <- 1;  if(one.two == TRUE) two.sided <- 2
za <- qnorm(a/two.sided, lower.tail=FALSE)
zb <- qnorm(b, lower.tail=FALSE)
za
zb
q12 <- NULL
if(n1.n0 < 1){
q12 <- 1 + 1/n1.n0
} else {
q12 <- 1 + n1.n0
}
q12
if(is.na(n1)){
n1 <- ( (za + zb)^2 * std.drv0 * (q12)^2 ) / (effect.size^2)
}
n0 <- n1/n1.n0
n1
is.na(n1)
( (za + zb)^2 * std.drv0 * (q12)^2 ) / (effect.size^2)
za
zb
std.drv0
q12
effect.size
n1.n0
rm(list=ls())
a <- 0.05;  b <- 0.2
effect.size <- 5
mu0 <- 0;  std.drv0 <- 1
mu1 <- mu0 + effect.size;  std.drv1 <- 1
one.two <- TRUE
n1 <- 30;  n1.n0 <- 1;
two.sided <- 1;  if(one.two == TRUE) two.sided <- 2
za <- qnorm(a/two.sided, lower.tail=FALSE)
zb <- qnorm(b, lower.tail=FALSE)
q12 <- NULL
if(n1.n0 < 1){
q12 <- 1 + 1/n1.n0
} else {
q12 <- 1 + n1.n0
}
q12
( (za + zb)^2 * std.drv0 * (q12)^2 ) / (effect.size^2)
std.drv0
za + zb
library(ggplot2)
a <- 0.05;  b <- 0.2
effect.size <- 0.5
mu0 <- 0;  std.drv0 <- 1
mu1 <- mu0 + effect.size;  std.drv1 <- 1
one.two <- TRUE
n1 <- 30;  n1.n0 <- 1;
two.sided <- 1;  if(one.two == TRUE) two.sided <- 2
za <- qnorm(a/two.sided, lower.tail=FALSE)
zb <- qnorm(b, lower.tail=FALSE)
q12 <- NULL
if(n1.n0 < 1){
q12 <- 1 + 1/n1.n0
} else {
q12 <- 1 + n1.n0
}
if(is.na(n1)){
n1 <- ( (za + zb)^2 * std.drv0 * (q12)^2 ) / (effect.size^2)
}
n0 <- n1/n1.n0
std.err0 <- std.drv0 / sqrt(n0/2)
std.err1 <- std.drv1 / sqrt(n1/2)
x <- seq(from = mu0 - 5*std.err0, to = mu1 + 5*std.err1, by=0.01)
h0 <- dnorm(x, mean=mu0, sd=std.err0)
h1 <- dnorm(x, mean=mu1, sd=std.err1)
h.norm <- data.frame(x, h0, h1)
a.h0 <- qnorm(a/two.sided, mean=mu0, sd=std.err0, lower.tail=FALSE)
b.h1 <- qnorm(b, mean=mu1, sd=std.error1)
p <- ggplot(h.norm, aes(x=x, y=h0)) +
geom_line(aes(x=x, y=h0), color="red") +
geom_line(aes(x=x, y=h1), color="blue") +
geom_vline(xintercept=a.h0) +
geom_vline(xintercept=b.h1) +
geom_ribbon(data=subset(h.norm, a.h0 <= x & x <= max(x)),
aes(ymin=0, ymax=h0, fill="H0", alpha=0.5)) +
geom_ribbon(data=subset(h.norm, min(x) <= x & x <= a.h0),
aes(ymin=0, ymax=h1, fill="H1", alpha=0.5))
print(p)
b.h1 <- qnorm(b, mean=mu1, sd=std.err1)
p <- ggplot(h.norm, aes(x=x, y=h0)) +
geom_line(aes(x=x, y=h0), color="red") +
geom_line(aes(x=x, y=h1), color="blue") +
geom_vline(xintercept=a.h0) +
geom_vline(xintercept=b.h1) +
geom_ribbon(data=subset(h.norm, a.h0 <= x & x <= max(x)),
aes(ymin=0, ymax=h0, fill="H0", alpha=0.5)) +
geom_ribbon(data=subset(h.norm, min(x) <= x & x <= a.h0),
aes(ymin=0, ymax=h1, fill="H1", alpha=0.5))
print(p)
( (za + zb)^2 * std.drv0 * (q12)^2 ) / (effect.size^2)
power.b <- pnorm(qnorm(0.05), mean=mu1, sd=std.err1, lower.tail=FALSE)
if (power.b >= (1-b)){
cat("Power :", power.b, "- adequate")
} else{
cat("Power :", power.b, "- inadequate")
}
b
std.err0
std.drv0
std.drv1
n0
n1
power.b
qnorm(0.05)
qnorm(0.05, lower.tail=FALSE)
a
two.sided
qnorm(a/two.sided, lower.tail=FALSE)
pnorm(qnorm(a/two.sided, lower.tail=FALSE), mean=mu1, sd=std.err1, lower.tail=FALSE)
mu1
std.err1
power.b <- pnorm(qnorm(a/two.sided, lower.tail=FALSE), mean=mu1, sd=std.err1, lower.tail=FALSE)
if (power.b >= (1-b)){
cat("Power :", power.b, "- adequate")
} else{
cat("Power :", power.b, "- inadequate")
}
cat("abc")
cat("abc\n")
if (power.b >= (1-b)){
cat("Power :", power.b, "- adequate\n")
} else{
cat("Power :", power.b, "- inadequate\n")
}
b
a <- 0.05;  b <- 0.2
effect.size <- 5
mu0 <- 0;  std.drv0 <- 1
mu1 <- mu0 + effect.size;  std.drv1 <- 1
one.two <- TRUE
n1 <- 130;  n1.n0 <- 1;
two.sided <- 1;  if(one.two == TRUE) two.sided <- 2
>>>>>>> d2e9519b943991fb419c01be12aa0957f3d2b6ff
za <- qnorm(a/two.sided, lower.tail=FALSE)
zb <- qnorm(b, lower.tail=FALSE)
q12 <- NULL
if(n1.n0 >= 1){
q12 <- 1 + 1/n1.n0
} else {
q12 <- 1 + n1.n0
}
<<<<<<< HEAD
est.sample.size <- ( (za + zb)^2 * std.drv0^2 * (q12) ) / (effect.size^2)
if(is.na(n1)){
n1 <- est.sample.size
=======
if(is.na(n1)){
n1 <- ( (za + zb)^2 * std.drv0^2 * (q12)^2 ) / (effect.size^2)
>>>>>>> d2e9519b943991fb419c01be12aa0957f3d2b6ff
}
n0 <- n1/n1.n0
std.err0 <- std.drv0 / sqrt(n0/2)
std.err1 <- std.drv1 / sqrt(n1/2)
x <- seq(from = mu0 - 5*std.err0, to = mu1 + 5*std.err1, by=0.01)
h0 <- dnorm(x, mean=mu0, sd=std.err0)
h1 <- dnorm(x, mean=mu1, sd=std.err1)
h.norm <- data.frame(x, h0, h1)
a.h0 <- qnorm(a/two.sided, mean=mu0, sd=std.err0, lower.tail=FALSE)
b.h1 <- qnorm(b, mean=mu1, sd=std.err1)
p <- ggplot(h.norm, aes(x=x, y=h0)) +
geom_line(aes(x=x, y=h0), color="red") +
geom_line(aes(x=x, y=h1), color="blue") +
geom_vline(xintercept=a.h0) +
<<<<<<< HEAD
geom_vline(xintercept=b.h1, linetype="dashed", show.legend=TRUE) +
=======
geom_vline(xintercept=b.h1) +
>>>>>>> d2e9519b943991fb419c01be12aa0957f3d2b6ff
geom_ribbon(data=subset(h.norm, a.h0 <= x & x <= max(x)),
aes(ymin=0, ymax=h0, fill="H0", alpha=0.5)) +
geom_ribbon(data=subset(h.norm, min(x) <= x & x <= a.h0),
aes(ymin=0, ymax=h1, fill="H1", alpha=0.5))
print(p)
<<<<<<< HEAD
power.b <- pnorm(qnorm(a/two.sided, mean=mu0, sd=std.err0, lower.tail=FALSE),
mean=mu1, sd=std.err1, lower.tail=FALSE)
cat("suggested sample size :", est.sample.size, "\n")
=======
power.b <- pnorm(qnorm(a/two.sided, lower.tail=FALSE), mean=mu1, sd=std.err1, lower.tail=FALSE)
>>>>>>> d2e9519b943991fb419c01be12aa0957f3d2b6ff
if (power.b >= (1-b)){
cat("Power :", power.b, "- adequate\n")
} else{
cat("Power :", power.b, "- inadequate\n")
}
<<<<<<< HEAD
runApp('C:/Users/pc/Desktop/Jihan/DDP')
rm(list=ls())
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
install.packages('rsconnect')
install.packages("rsconnect")
install.packages('rsconnect')
rsconnect::setAccountInfo(name='jihanyu',
token='467706F8E24924114CC674C95D925950',
secret='<SECRET>')
rsconnect::setAccountInfo(name='jihanyu',
token='467706F8E24924114CC674C95D925950',
secret='<SECRET>')
library(rsconnect)
=======
a <- 0.05;  b <- 0.2
effect.size <- 0.5
mu0 <- 0;  std.drv0 <- 1
mu1 <- mu0 + effect.size;  std.drv1 <- 1
one.two <- TRUE
n1 <- 130;  n1.n0 <- 1;
two.sided <- 1;  if(one.two == TRUE) two.sided <- 2
za <- qnorm(a/two.sided, lower.tail=FALSE)
zb <- qnorm(b, lower.tail=FALSE)
q12 <- NULL
if(n1.n0 >= 1){
q12 <- 1 + 1/n1.n0
} else {
q12 <- 1 + n1.n0
}
if(is.na(n1)){
n1 <- ( (za + zb)^2 * std.drv0^2 * (q12)^2 ) / (effect.size^2)
}
n0 <- n1/n1.n0
std.err0 <- std.drv0 / sqrt(n0/2)
std.err1 <- std.drv1 / sqrt(n1/2)
x <- seq(from = mu0 - 5*std.err0, to = mu1 + 5*std.err1, by=0.01)
h0 <- dnorm(x, mean=mu0, sd=std.err0)
h1 <- dnorm(x, mean=mu1, sd=std.err1)
h.norm <- data.frame(x, h0, h1)
a.h0 <- qnorm(a/two.sided, mean=mu0, sd=std.err0, lower.tail=FALSE)
b.h1 <- qnorm(b, mean=mu1, sd=std.err1)
p <- ggplot(h.norm, aes(x=x, y=h0)) +
geom_line(aes(x=x, y=h0), color="red") +
geom_line(aes(x=x, y=h1), color="blue") +
geom_vline(xintercept=a.h0) +
geom_vline(xintercept=b.h1) +
geom_ribbon(data=subset(h.norm, a.h0 <= x & x <= max(x)),
aes(ymin=0, ymax=h0, fill="H0", alpha=0.5)) +
geom_ribbon(data=subset(h.norm, min(x) <= x & x <= a.h0),
aes(ymin=0, ymax=h1, fill="H1", alpha=0.5))
print(p)
power.b <- pnorm(qnorm(a/two.sided, lower.tail=FALSE), mean=mu1, sd=std.err1, lower.tail=FALSE)
if (power.b >= (1-b)){
cat("Power :", power.b, "- adequate\n")
} else{
cat("Power :", power.b, "- inadequate\n")
}
mu1
std.err1
shiny::runApp('C:/Users/MED1/Desktop/Coursera/project/DDP')
runApp('C:/Users/MED1/Desktop/Coursera/project/DDP')
knitr::opts_chunk$set(echo=FALSE, fig.align = "center", message=FALSE, warning=FALSE, cache=TRUE)
library(shiny)
shinyUI(fluidPage(
titlePanel("Sample size, Power calculation - 2 dichotomous groups(t-test)"),
sidebarLayout(
sidebarPanel(
h3("Statistical parameters"),
sliderInput("a", "alpha:", min=0.001, max=1, value=0.05),
sliderInput("b", "beta:", min=0, max=1, value=0.2),
h3("Distribution parameters"),
numericInput("mu0", "Mean of H0: ", value=0),
numericInput("std.dev0", "Stand dev of H0: ", value=1),
numericInput("std.dev1", "Stand dev of H1: ", value=1),
numericInput("effect.size", "Effect size: ", value=0.5),
numericInput("n1", "sample number(H1): - if determined", value=NULL),
numericInput("n1.n0", "ratio of number(H1/H0): ", value=1),
checkboxInput("one.two", "2 sided test", value=TRUE),
submitButton("Submit")
),
mainPanel(
plotOutput("dispPlot"),
verbatimTextOutput("print.cal.sample.n"),
verbatimTextOutput("print.prov.sample.n"),
verbatimTextOutput("print.power")
)
)
))
library(shiny);  library(ggplot2)
shinyServer(function(input, output) {
mu1 <- reactive({ input$mu0 + input$effect.size })
two.sided <- reactive({
if(input$one.two == TRUE){ 2 } else{ 1 }
})
za <- reactive({ qnorm(input$a/two.sided(), lower.tail=FALSE) })
zb <- reactive({ qnorm(input$b, lower.tail=FALSE) })
q12 <- reactive({
if(input$n1.n0 >= 1){ 1 + 1/input$n1.n0 } else{ 1 + input$n1.n0 }
})
est.sample.size <- reactive({
( (za() + zb())^2 * input$std.dev0^2 * q12() ) / (input$effect.size^2)
})
n1.new <- reactive({
if(is.na(input$n1)){ est.sample.size() } else{ input$n1 }
})
n0 <- reactive({ n1.new()/input$n1.n0 })
std.err0 <- reactive({ input$std.dev0/sqrt(n0()/2) })
std.err1 <- reactive({ input$std.dev1/sqrt(n1.new()/2) })
power.b <- reactive({
pnorm( qnorm(input$a/two.sided(), mean=input$mu0, sd=std.err0(), lower.tail=FALSE),
mean=mu1(), sd=std.err1(), lower.tail=FALSE)
})
runApp('C:/Users/MED1/Desktop/Coursera/project/DDP')
install.packages("rsconnect")
install.packages("rsconnect")
install.packages("rsconnect")
library(rsconnect)
rsconnect::setAccountInfo(name='jihanyu',
token='467706F8E24924114CC674C95D925950',
secret='<SECRET>')
>>>>>>> d2e9519b943991fb419c01be12aa0957f3d2b6ff
rsconnect::setAccountInfo(name='jihanyu',
token='467706F8E24924114CC674C95D925950',
secret='<SECRET>')
rsconnect::setAccountInfo(name='jihanyu',
token='467706F8E24924114CC674C95D925950',
secret='0zhbiQTbLDfBsQmB6AN3xrFJyYoEubCPV0Uc52Cw')
<<<<<<< HEAD
shiny::runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
runApp('C:/Users/pc/Desktop/Jihan/DDP')
install.packages("RMySQL")
library(RMySQL)
ucscDb <- dbConnect(MySQL(), user="genome",
host="genome-mysql.cse.ucsc.edu")
result <- dbGetQuery(ucscDb, "show databases;")
dbDisconnect(ucscDb)
result
head(result)
hg19 <- dbConnect(MySQL(), user="genome", db="hg19",
host="genome-mysql.cse.ucsc.edu")
allTables <- dbListTables(hg19)
length(allTables)
allTables[1:5]
dbListFields(hg19, "affyU1339Plus2")
dbListFields(hg19, "affyU133Plus2")
dbGetQuery(hg19, "select count(*) from affyU133Plus2")
affyData <- dbReadTable(hg19, "affyU133Plus2")
head(affyData)
query <- dbSendQUery(hg19, "select * from affyU133Plus2 where misMatches between 1 and 3")
query <- dbSendQuery(hg19, "select * from affyU133Plus2 where misMatches between 1 and 3")
affyMis <- fetch(query)
quantile(affyMis$misMatches)
affyMisSmall <- fetch(query, n=10)
dbClearResult(query)
dim(affyMisSmall)
dbDisconnect(hg19)
#workingpath <- "C:\\Users\\MED1\\Desktop\\Coursera\\project\\GCD"
workingpath <- "C:\\Users\\pc\\Desktop\\Jihan\\GCD"
setwd(workingpath)
#workingpath <- "C:\\Users\\MED1\\Desktop\\Coursera\\project\\GCD"
workingpath <- "C:\\Users\\pc\\Desktop\\Jihan\\GCD"
setwd(workingpath)
##### Problem 1 #####
fileURL1 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Fss06hid.csv"
if(!file.exists("data") & !file.exists("./data/prob1.csv")){
dir.create("data")
}
download.file(fileURL1, "./data/prob1.csv", method="curl")
prob1.data <- read.csv("./data/prob1.csv", header=TRUE)
dim(prob1.data)
#AGS==6
#ACR==3
agricultureLogical <- which(prod1.data[(prod1.data$ACR==3) & (prod1.data$AGS==6),])
prob1.data <- read.csv("./data/prob1.csv", header=TRUE)
#AGS==6
#ACR==3
agricultureLogical <- which(prod1.data[(prod1.data$ACR==3) & (prod1.data$AGS==6),])
#AGS==6
#ACR==3
agricultureLogical <- which(prob1.data[(prod1.data$ACR==3) & (prob1.data$AGS==6),])
#AGS==6
#ACR==3
agricultureLogical <- which(prob1.data[(prob1.data$ACR==3) & (prob1.data$AGS==6),])
#AGS==6
#ACR==3
agricultureLogical <- dim(prob1.data[(prob1.data$ACR==3) & (prob1.data$AGS==6),])
agricultureLogical
#AGS==6
#ACR==3
agricultureLogical <- which((prob1.data$ACR==3) & (prob1.data$AGS==6))
head(agricultureLogical, 3)
installed.pacl
installed.packages("jpeg")
library(jpeg)
?readJPEG
##### Problem 2 #####
library(jpeg)
fileURL2 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fjeff.jpg"
if(!file.exists("data") & !file.exists("./data/prob2.jpg")){
dir.create("data")
}
download.file(fileURL2, "./data/prob2.jpg", method="curl")
prob2.data <- readJPEG("./data/prob2.jpg", native=TRUE)
?quantile
prob2.data <- readJPEG("./data/prob2.jpg", native=TRUE)
quantile(prob2.data, probs=c(0.3, 0.8))
##### Problem 3 #####
fileURL31 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FGDP.csv"
fileURL32 <- "https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FEDSTATS_Country.csv"
if(!file.exists("data")){
dir.create("data")
}
download.file(fileURL31, "./data/GDP.csv", method="curl")
download.file(fileURL32, "./data/edu.csv", method="curl")
GDP <- read.csv("./data/GDP.csv", header=TRUE)
edu <- read.csv("./data/edu.csv", header=TRUE)
dim(GDP)
dim(edu)
names(GDP)
naes(edu)
names(edu)
head(GDP)
?read.csv
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=5)
head(GDP)
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4)
head(GDP)
str(GDP)
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4)
GDP <- GDP[, c(1, 2, 4, 5)]
GDP <- GDP[, c(1, 2, 4, 5)]
header(GDP)
head(GDP)
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4)
GDP <- GDP[, c(1, 2, 4, 5)]
names(GDP) <- c("country", "ranking", "economy", "USD")
edu <- read.csv("./data/edu.csv", header=TRUE)
head(GDP)
names(edu)
head(edu[,1])
head(edu[,2])
head(names(edu))
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4)
GDP <- GDP[, c(1, 2, 4, 5)]
names(GDP) <- c("CountryCode", "ranking", "Long.Name", "USD")
mergedData
library(reshape2)
?mergedData
library(dplyr)
merge
?merge
a <- merge(GDP, edu, by="CountryCode")
head(a)
sort
?sort
mergedData <- merge(GDP, edu, by="CountryCode")
merg.sort <- mergedData[order(GDP),]
head(merg.sort,3)
head(GDP, 3)
names(GDP) <- c("CountryCode", "ranking", "Long.Name", "USD")
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4)
GDP <- GDP[, c(1, 2, 4, 5)]
names(GDP) <- c("CountryCode", "ranking", "Long.Name", "USD")
GDP$USD <- as.character(GDP$USD)
GDP$USD <- as.numeric(GDP$USD)
edu <- read.csv("./data/edu.csv", header=TRUE)
mergedData <- merge(GDP, edu, by="CountryCode")
merg.sort <- mergedData[order(GDP),]
head(merge.sort,3)
head(merg.sort,3)
merg.sort <- mergedData[order(-GDP),]
head(merg.sort,3)
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4)
GDP <- GDP[, c(1, 2, 4, 5)]
names(GDP) <- c("CountryCode", "ranking", "Long.Name", "USD")
GDP$USD <- as.character(GDP$USD)
GDP$USD <- as.numeric(GDP$USD)
edu <- read.csv("./data/edu.csv", header=TRUE)
head(GDP)
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4)
GDP <- GDP[, c(1, 2, 4, 5)]
str(GDP)
names(GDP) <- c("CountryCode", "ranking", "Long.Name", "USD")
str(GDP)
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4, colClasses="character")
GDP <- GDP[, c(1, 2, 4, 5)]
names(GDP) <- c("CountryCode", "ranking", "Long.Name", "USD")
GDP$USD <- as.numeric(gsub(",", "", GDP$USD))
head(GDP)
str(USD)
str(GDP)
GDP <- read.csv("./data/GDP.csv", header=TRUE, skip=4, colClasses="character")
GDP <- GDP[, c(1, 2, 4, 5)]
names(GDP) <- c("CountryCode", "ranking", "Long.Name", "USD")
GDP$USD <- as.numeric(gsub(",", "", GDP$USD))
GDP$ranking <- as.numeric(GDP$ranking)
edu <- read.csv("./data/edu.csv", header=TRUE)
mergedData <- merge(GDP, edu, by="CountryCode")
merg.sort <- mergedData[order(-GDP),]
head(mergedData,3)
merg.sort <- mergedData[order(-USD),]
merg.sort <- mergedData[order(-mergedData$USD),]
head(merg.sort, 3)
head(merg.sort, 10)
head(merg.sort[,c(1:5)], 10)
mergedData <- merge(GDP, edu, by="CountryCode")
merg.sort <- mergedData[order(mergedData$USD),]
head(merg.sort[, c(1:5)])
dim(merg.sort)
library(dplry)
library(dplyr)
join.data <- inner_join(GDP, edu, by="CountryCode")
dim(join.data)
?intersect
intersect(GDP$CountryCode, edu$CountryCode)
length(intersect(GDP$CountryCode, edu$CountryCode)
)
names(merg.sort)
merg.sort$Long.Name.x[13]
merg.sort$Long.Name.y[13]
join.data$Long.name.x[13]
join.data$Long.Name.x[13]
join.data$Long.Name.y[13]
join.sort <- join.data[order(join.data$USD),]
join.sort$Long.Name.x[13]
join.sort$Long.Name.y[13]
dim(merg.sort)
merg.sort$Long.Name.x[13]
merg.sort$CountryCode
merg.sort$Long.Name.x
names(edu)
head(edu$Income.Group)
levels(edu$Income.Group)
?group_by
a <- merg.sort %>%
group_by(Income.Group) %>%
summarise(ave=mean(GDP, na.rm=TRUE))
a
head(merg.sort)
##### Problem 4 #####
library(dplyr)
a <- merg.sort %>%
group_by(Income.Group) %>%
summarise(ave=mean(USD, na.rm=TRUE))
a
##### Problem 4 #####
library(dplyr)
a <- merg.sort %>%
group_by(Income.Group) %>%
summarise(ave=mean(ranking, na.rm=TRUE))
a
library(Himc)
library(Himc2)
##### Problem 5 #####
library(Hmisc)
install.packages("Hmisc")
?cut2
##### Problem 5 #####
library(Hmisc)
?cut2
cut2(merg.sort$ranking, g=5)
=======
shiny::runApp('C:/Users/MED1/Desktop/Coursera/project/DDP')
?iris
?devtools
??devtools
library(devtools)
install.packages("devtools")
library(devtools)
?aes
?install_github
session.info()
sessioninfo()
SESSIONINFO()
session_info()
install.packages("KernSmooth")
library(KernSmooth)
sessionInfo()
library(httr)
# 1. Find OAuth settings for github:
#    http://developer.github.com/v3/oauth/
oauth_endpoints("github")
# 2. To make your own application, register at
#    https://github.com/settings/developers. Use any URL for the homepage URL
#    (http://github.com is fine) and  http://localhost:1410 as the callback url
#
#    Replace your key and secret below.
myapp <- oauth_app("github",
key = "56b637a5baffac62cad9",
secret = "8e107541ae1791259e9987d544ca568633da2ebf"
)
# 3. Get OAuth credentials
github_token <- oauth2.0_token(oauth_endpoints("github"), myapp)
# 4. Use API
gtoken <- config(token = github_token)
req <- GET("https://api.github.com/rate_limit", gtoken)
stop_for_status(req)
content(req)
# OR:
req <- with_config(gtoken, GET("https://api.github.com/rate_limit"))
stop_for_status(req)
content(req)
nchar("<meta name="Distribution" content="Global" />")
?nchar
a <- "<meta name="Distribution" content="Global" />"
a <- "<meta name=\"Distribution\" content=\"Global\" />"
a
nchar(a)
a <- "<script type=\"text/javascript\">"
nchar(a)
a <- "ab\"cde"
nchar(a)
a <- "  })();"
nchar(a)
a <- "				<ul class=\"sidemenu\">"
nchar(a)
workingpath <- "C:\\Users\\MED1\\Desktop\\Coursera\\project\\GCD"
list("./data")
a <- read.csv("./q2prob5.csv", header=FALSE)
a <- read.csv("./data/q2prob5.csv", header=FALSE)
a <- read.csv("q2prob5.csv", header=FALSE)
a <- read.csv("q2prob5.csv", header=FALSE)
workingpath <- "C:\\Users\\MED1\\Desktop\\Coursera\\project\\GCD"
setwd(workingpath)
a <- read.csv("./data/q2prob5.csv", header=FALSE)
dim(a)
head(a)
head(a[,4])
sum(a[,4], na.rm=TRUE)
sum(a[,2], na.rm=TRUE)
sum(a[,4], na.rm=TRUE)
sum(a[,6], na.rm=TRUE)
sum(a[,8], na.rm=TRUE)
sum(a[,8]) + sum(a[,9])
>>>>>>> d2e9519b943991fb419c01be12aa0957f3d2b6ff
